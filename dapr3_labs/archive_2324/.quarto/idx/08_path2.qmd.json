{"title":"8. Mediation","markdown":{"yaml":{"title":"8. Mediation","params":{"SHOW_SOLS":true,"TOGGLE":true},"editor_options":{"chunk_output_type":"console"}},"headingText":"knitr::opts_chunk$set(cache = TRUE)","containsRefs":false,"markdown":"\n\n\n```{r}\n#| label: setup\n#| include: false\nsource('assets/setup.R')\nlibrary(tidyverse)\nlibrary(patchwork)\nlibrary(effects)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(xaringanExtra)\nxaringanExtra::use_panelset()\nlibrary(lavaan)\nlibrary(semPlot)\noptions(digits=3, scipen = 3)\nqcounter <- function(){\n  if(!exists(\"qcounter_i\")){\n    qcounter_i <<- 1\n  }else{\n    qcounter_i <<- qcounter_i + 1\n  }\n  qcounter_i\n}\n```\n\n:::lo\n**Relevant packages**\n\n+ lavaan  \n+ semPlot or tidySEM\n+ mediation\n\n::: \n\n\n::: {.callout-note collapse=\"true\"}\n## What is 'mediation'?   \n\nLet's imagine we are interested in peoples' intention to get vaccinated, and we observe the following variables: \n\n- Intention to vaccinate (scored on a range of 0-100) \n- Health Locus of Control (HLC) score (average score on a set of items relating to perceived control over ones own health)  \n- Religiosity of upbringing (average score on a set of items relating to the religiosity of an individual's childhood). \n\n<!-- We are assuming here that we do not have the individual items, but only the scale scores (if we had the individual items we might be inclined to model religiosity and HLC as latent variables!).    -->\nIf we draw out our variables, and think about this in the form of a standard regression model with \"Intention to vaccinate\" as our outcome variable, then all the lines are filled in for us (see @fig-mregpath). \n\n```{r}\n#| label: fig-mregpath\n#| echo: false\n#| fig-cap: \"Multiple regression as a path model\"\nknitr::include_graphics(\"images/path/path1.png\")\n```\n\nBut what if our theory suggests that some other model might be of more relevance? For instance, what if we believe that participants' religiosity has an effect on their Health Locus of Control score, __*which in turn*__ affects the intention to vaccinate (see @fig-medpath1)?   \n\n```{r}\n#| label: fig-medpath1\n#| echo: false\n#| fig-cap: \"Mediation as a path model (If you're interested, you can find the inspiration for this example data from the paper [here](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7596314/). I haven't properly read it though!)\"\n#| out-height: \"300px\"\nknitr::include_graphics(\"images/path/path2.png\")\n```\n\nIn this case, the HLC variable is thought of as a **mediator**, because it mediates the effect of religiosity on intention to vaccinate. In this theoretical model, we distinguishing between two possible types of effect: **direct** and **indirect**. \n\n:::statbox\n**Direct vs Indirect**  \n\nIn path diagrams:\n\n- Direct effect = one single-headed arrow between the two variables concerned  \n- Indirect effect = An effect transmitted via some other variables   \n\n:::\n\n:::\n\nWe've seen how path analysis works in last week's lab, and we can use that same logic to investigate models which have quite different structures such as those including mediating variables. \n\nBecause we have multiple **endogenous** variables here, then we're immediately drawn to path analysis, because we're in essence thinking of conducting several regression models. As we can't fit our theoretical model into a nice straightforward regression model (we would need several), then we can use path analysis instead, and just smush lots of regressions together, allowing us to estimate things all at once.  \n\n::: {.callout-note collapse=\"true\"}\n## Doing Path Mediation 1: Data\n\nWe'll continue with the example in @fig-medpath1, for which we have simulated some data.  \n\n:::frame\n__Data: VaxDat.csv__\n\n100 parents were recruited and completed a survey that included measures of Health Locus of Control, Religiosity, and a sliding scale of 0 to 100 on how definite they were that their child would receive the vaccination for measles, mumps & rubella.  \n\n- Intention to vaccinate (scored on a range of 0-100)  \n- Health Locus of Control (HLC) score (average on a set of 5 items - each scoring 0 to 6 - relating to perceived control over ones own health)  \n- Religiosity of upbringing (average score on a set of items relating to the religiosity of an individual's childhood). \n\nThe data is available at https://uoepsy.github.io/data/vaxdat.csv  \n\n:::\n\nFirst we read in our data:  \n```{r}\nvax <- read_csv(\"https://uoepsy.github.io/data/vaxdat.csv\")\nsummary(vax)\n```\n\nIt looks like we have a value we shouldn't have there. We have a value of religiosity of -1. But the average of 5 items which each score 0 to 6 will have to fall within those bounds.  \n  \nLet's replace any values <0 with NA. \n```{r}\nvax <- \n    vax %>% \n    mutate(religiosity = ifelse(religiosity < 0, NA, religiosity))\nsummary(vax)\n```\nNow let's just check the marginal distributions of each variable.  \nThere are lots of functions that we might use, but for a quick eyeball, I quite like the `pairs.panels()` and `multi.hist()` functions from the __psych__ package. \n```{r}\nlibrary(psych)\npairs.panels(vax)\n```\n\n:::\n\n::: {.callout-note collapse=\"true\"}\n## Doing Path Mediation 1: Model Specification\n\nOkay, we're ready to start thinking about our model.  \nFirst we specify the relevant paths:\n```{r}\nmed_model <- \" \n    intention ~ religiosity\n    intention ~ hlc\n    hlc ~ religiosity\n\"\n```\n\nIf we fit this model as it is, we won't actually be testing the indirect effect, we will simply be fitting a couple of regressions.  \n\nTo specifically test the indirect effect, we need to explicitly **define** the indirect effect in our model, by first creating a label for each of its sub-component paths, and then defining the indirect effect itself as the product of these two paths (why the product? [Click here for a lovely explanation from Aja Murray](https://uoepsy.github.io/msmr/indirect_effects.pdf)).  \n  \nTo do this, we use a new operator, `:=`. \n\n```{r}\nmed_model <- \" \n    intention ~ religiosity\n    intention ~ a*hlc\n    hlc ~ b*religiosity\n    \n    indirect:=a*b\n\"\n```\n\n\n:::rtip\n**:=** \n\n_This operator 'defines' new parameters which take on values that are an arbitrary function of the original model parameters. The function, however, must be specified in terms of the parameter labels that are explicitly mentioned in the model syntax._\n  \n([the lavaan project](https://lavaan.ugent.be/))\n\nNote. The labels we use are completely up to us. This would be equivalent:\n```{r}\n#| eval: false\nmed_model <- \" \n    intention ~ religiosity\n    intention ~ peppapig * hlc\n    hlc ~ kermit * religiosity\n    \n    indirect:= kermit * peppapig\n\"\n```\n\n:::\n\n:::\n\n::: {.callout-note collapse=\"true\"}\n## Doing Path Mediation 1: Model Estimation\n\nIt is common to estimate the indirect effect using a bootstrapping approach (remember, bootstrapping involves resampling the data with replacement, thousands of times, in order to empirically generate a sampling distribution).  \n\n:::statbox\n__Why do we bootstrap mediation analysis?__\n\nWe compute our indirect effect as the _product_ of the sub-component paths. However, this results in the estimated indirect effect rarely following a normal distribution, and makes our usual analytically derived standard errors & p-values inappropriate.   \nInstead, bootstrapping has become the norm for assessing sampling distributions of indirect effects in mediation models. \n\n::: \n\nWe can do this easily in lavaan:\n\n```{r}\nmm1.est <- sem(med_model, data=vax, se = \"bootstrap\") \nsummary(mm1.est, ci = TRUE)\n```\n\n:::int\nWe can see that the 95% bootstrapped confidence interval for the indirect effect of religiosity on intention to vaccinate does not include zero. We can conclude that the indirect effect is significant at $p <.05$. The direct effect is __not__ significantly different from zero, suggesting that we have __complete mediation__ (religiosity has _no_ effect on intention to vaccinate after controlling for health locus of control). \n:::\n\nFinally, we can visualise the estimates for our model using the `semPaths()` function from the __semPlot__ package, and also with the `graph_sem()` function from the __tidySEM__ package.  \n_Often, if we want to include a path diagram in a report then the output of these functions would not usually meet publication standards, and instead we tend to draw them in programs like powerpoint!)_\n```{r}\nlibrary(tidySEM)\ngraph_sem(mm1.est, layout = get_layout(mm1.est))\n```\n\n:::\n\n\n::: {.callout-note collapse=\"true\"}\n## Partial/Complete Mediation\n\nIf we have a variable $X$ that we take to cause variable $Y$, then our path diagram will look like so:\n```{r}\n#| echo: false\nknitr::include_graphics(\"images/path/MED1.png\")\n```\nIn this diagram, path $c$ is the __total effect__. This is the _unmediated_ effect of $X$ on $Y$.  \nHowever, while the effect of $X$ on $Y$ could in part be explained by the process of being mediated by some variable $M$, the variable $X$ could still affect $Y$ directly.  \nOur mediating model is shown below:\n\n```{r}\n#| echo: false\nknitr::include_graphics(\"images/path/MED2.png\")\n```\n\nIn this case, path $c'$ is the __direct effect__.  \n\n- __Complete mediation__ is when $X$ _no longer_ affects $Y$ after $M$ has been controlled (so path $c'$ is not significantly different from zero). \n- __Partial mediation__ is when the path from $X$ to $Y$ is _reduced in magnitude_ when the mediator $M$ is introduced, _but still different from zero._  \n- The __Proportion Mediated__ is the amount of the total effect of $X$ to $Y$ that goes via $M$. i.e. $\\frac{a \\times b}{c}$ in the images above. \n\n:::\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n\n# Exercises: Conduct Problems\n\nThis week's exercises focus on the technique of path analysis using data on conduct problems in adolescence. \n\n:::frame\n__Data: conduct problems__  \n\nA researcher has collected data on n=557 adolescents and would like to know whether there are associations between conduct problems (both aggressive and non-aggressive) and academic performance and whether the relations are mediated by the quality of relationships with teachers. \n\n```{r}\n#| echo: false\ntibble(\n    variable = read_csv(\"https://uoepsy.github.io/data/cp_teachacad.csv\") %>% names,\n    description = c(\"Participant ID\",\"Academic performance (standardised)\",\"Teacher Relationship Quality (standardised)\",\"Non-aggressive conduct problems (standardised)\",\"Aggressive conduct problems (standardised)\")\n) %>% knitr::kable(.)\n```\n\n\nThe data is available at https://uoepsy.github.io/data/cprobteach.csv     \n:::\n\n\n`r qbegin(qcounter())`\nFirst, read in the dataset from https://uoepsy.github.io/data/cprobteach.csv     \n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n```{r}\n#| message: false\ncp_teach <- read_csv(\"https://uoepsy.github.io/data/cprobteach.csv\")\n\nsummary(cp_teach)\n```\n`r solend()`\n\n`r qbegin(qcounter())`\nJust to initially get a sense of the total effects of different types of conduct problem on academic performance, we'll fit a simple regression model.  \n\nUse the `sem()` function in lavaan to specify and estimate a straightforward linear regression model to test whether aggressive and non-aggressive conduct problems significantly predict academic performance.  \n\nHow do your results compare to those you obtain using the `lm()` function?\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n``` {r simple regression in lavaan}\n# we can fit the model in lavaan as follows:\n# first we specify the model using lavaan syntax\nsr_lavaan<-'Acad~Non_agg+Agg'\n# next we can estimate the model using the sem() function\nsr_lavaan.est<-sem(sr_lavaan, data=cp_teach)\n# we can inspect the results using the summary() function\nsummary(sr_lavaan.est)\n\n# the same model can be fit using lm():\n\nsr_lm<-lm(Acad~Non_agg+Agg, data=cp_teach)\nsummary(sr_lm)\n```\n\nWe can see that both non-aggressive and aggressive conduct problems significantly predict academic perfofmance. Having more aggressive or non-aggressive conduct problems is associated with poorer academic performance.   \n\nWe can also see that we get the same results when we use the `sem()` function as we do when we use the `lm()` function. Lavaan will give essentially the same results as `lm()` for simple  and multiple regression problems. However, if we have multiple outcome variables in our model it is advantageous to do this using path mediation model with lavaan. This allows us to include all the regressions in a single model. \n`r solend()`\n\n`r qbegin(qcounter())`\nForget about aggressive conduct problems for the time-being.  \n\nSpecify a model in which non-aggressive conduct problems have both:  \n\n- a direct on academic performance\n- an indirect effect via teacher relationships on academic performance  \n\n\n`r qend()` \n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n```{r path analysis for non-aggressive conduct problems}\nmodel1<-'\n    #we regress academic performance on non-aggressive conduct problems (the direct effect)\n    Acad~Non_agg\n    \n    #we regress academic peformance on teacher relationship quality\n    Acad~Teach_r\n    \n    #we regress teacher relationship quality on non-aggressive conduct problems\n    Teach_r~Non_agg \n'\n```\n`r solend()`\n\n`r qbegin(qcounter())`\nMake sure in your model you _define_ (using the `:=` operator) the indirect effect in order to test the hypothesis that non-aggressive conduct problems have both a direct and an indirect effect (via teacher relationships) on academic performance. \n\nFit the model and examine the 95% CI.\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r path analysis for non-aggressive conduct problems with constraints}\n\n#model specification\nmodel1<-'\n    Acad~Non_agg\n    \n    #we label the two parameters that comprise the indirect effect b and c\n    Acad~b*Teach_r    \n    \n    Teach_r~c*Non_agg  \n    \n    # the indirect effect is the product of b and c. We create a new parameter (ind) to estimate the indirect effect\n    ind:=b*c   \n'\n\n#model estimation\nmodel1.est<-sem(model1, data=cp_teach, se='bootstrap') \n\n# we request bootstrapped standard errors to assess the signifance of the indirect effect\nsummary(model1.est, ci=T)\n```\n\nWe can see that the 95% bootstrapped confidence interval for the indirect effect of non-aggressive conduct problems on academic performance ('ind') does not include zero. We can conclude that the indirect effect is significant at $p <.05$. The direct effect is also statistically significant at $p < .05$.  \n\n\n`r solend()`\n\n`r qbegin(qcounter())`\nSpecify a new parameter which is the total (direct+indirect) effect of non-aggressive conduct problems on academic performance.  \n\nHint: we should have already got labels in our model for the constituent effects, so we can just use `:=` to create a sum of them. \n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\nWe can create a new parameter that is the sum of the direct and indirect effect to evaluate the total effect of non-aggressive conduct problems on academic performance.\n\n```{r path analyis total}\n\n#model specification\n\nmodel1<-'\n    # we now also label the indirect effect of non-aggressive conduct problems on academic performance\n    Acad~a*Non_agg    \n    Acad~b*Teach_r    \n    Teach_r~c*Non_agg  \n    \n    ind:=b*c   \n    #the total effect is the indirect effect plus the direct effect\n    total:=b*c+a\n'\n\n#model estimation\nmodel1.est<-sem(model1, data=cp_teach,se='bootstrap') \n\n# we request bootstrapped standard errors to assess the signifance of the indirect effect\nsummary(model1.est, ci=T)\n```\n\nNow that we have the total effect too, we can start to build up a picture of what is happening.  \n\n- Non-aggressive conduct problems are associated with poorer academic performance (total effect)  \n- This is partially mediated by teacher relationships (children with more conduct problems tend to have worse teacher relationships, and quality of teacher relationships influences academic performance).   \n  - 61% ($\\frac{\\text{indirect}}{\\text{total}}$) of the effect of non-aggressive conduct problems on academic performance is mediated by the quality of teacher relationships.  \n  \n- Non-aggressive conduct problems continue to have a direct effect on academic performance (direct effect) \n\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n\n# Exercises: More Conduct Problems\n\n`r qbegin(qcounter())`\nNow specify a model in which __both__ aggressive and non-aggressive conduct problems have both direct and indirect effects (via teacher relationships) on academic performance. Include the parameters for the indirect effects.  \n\n\n::: {.callout-tip collapse=\"true\"}\n#### Hints\n\nWe've got __two__ predictors, and __one__ mediator.  \nSo two indirect effects. make sure to give unique labels to the paths!  \n\n:::\n\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\nWe now have two predictors, one mediator and one outcome (and two indirect effects, one for each predictor). We can represent this in two lines: one where we specify academic performance as the outcome variable and one where we specify teacher relationships (the mediator) as the outcome variable. \n\n```{r two predictors}\nmodel2<-\n   'Acad ~ a1*Agg + a2*Non_agg + b*Teach_r\n    Teach_r ~ c1*Agg + c2*Non_agg\n   \n    ind1:=b*c1 #indirect effect for aggressive conduct problems\n    ind2:=b*c2 #indirect effect for non-aggressive conduct problems\n    \n    tot1:=(b*c1)+a1 # total effect aggressive\n    tot2:=(b*c2)+a2 # total effect non-aggressive\n'\n```\n\n\n`r solend()`\n\n`r qbegin(qcounter())`\nNow estimate the model and test the significance of the indirect effects\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r estimate two predictor model}\nmodel2.est<-sem(model2,  data=cp_teach,se='bootstrap') \nsummary(model2.est, ci=T)\n```\n\nWe can see that the 95% confidence intervals for both indirect effects do not include zero, therefore, we can conclude that they are significant at $p < .05$. \n`r solend()`\n\n\n`r qbegin(qcounter())`\nOpen powerpoint, or google drawings, or microsoft paint (!), and create a diagram of your estimated model. \n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n#| label: fig-pathcp1\n#| echo: false\n#| out-width: \"1200px\"\n#| fig-cap: \"Effect of conduct problems on academic performance mediated by quality of teacher relationship.\"\nknitr::include_graphics(\"images/path/pathanaly1.png\")\n```\n\n`r solend()`\n\n\n`r qbegin(qcounter())`\nWrite a brief paragraph reporting on the results of the model estimates in Question B2. Include a figure or table to display the parameter estimates.\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n:::int \n\nA path mediation model was used to test the direct and indirect effects (via teacher relationship quality) of aggressive and non-aggressive conduct problems on academic performance. In the model, academic performance was regressed on teacher relationship quality, non-aggressive conduct problems and aggressive conduct problems while teacher relationship quality (the mediator) was regressed on aggressive and non-aggressive conduct problems. The indirect effects were tested using the product of the coefficient for the regression of outcome on mediator and the coefficient for the regression of mediator on predictor. The statistical significance of the indirect effects were evaluated using boostrapped 95% confidence intervals with 1000 draws.\n\nUnstandardised parameter estimates are provided in @fig-pathcp. Solid lines indicate that a parameter is significant at $p <. 05$, while dashed lines represent non-significant paths.The indirect effects of both non-aggressive  ($b = -0.09$, 95% CI=[-0.14, -0.05]) and aggressive ($b = -0.15$, 95% CI=[-0.21, -.08]) conduct problems on academic performance were statistically significant. \n\n```{r}\n#| label: fig-pathcp\n#| echo: false\n#| out-width: \"1200px\"\n#| fig-cap: \"Effect of conduct problems on academic performance mediated by quality of teacher relationship.\"\nknitr::include_graphics(\"images/path/pathanaly1.png\")\n```\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n\n::: {.callout-note collapse=\"true\"}\n## Mediation using separate models\n\nFollowing [Baron & Kenny 1986](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.917.2326&rep=rep1&type=pdf), we can conduct mediation analysis by using three separate regression models.  \n\n1. $y \\sim x$\n2. $m \\sim x$\n3. $y \\sim x + m$\n\nStep 1. Assess the total effect of the predictor on the outcome `y ~ x`. This step establishes that there *is* an effect that may be mediated.    \n```{r}\nmod1 <- lm(intention ~ religiosity, data = vax)\nsummary(mod1)$coefficients\n```\n\nStep 2. Estimate the effect of the predictor on the mediator `m ~ x`:\n```{r}\nmod2 <- lm(hlc ~ religiosity, data = vax)\nsummary(mod2)$coefficients\n```\n\nStep 3. Estimate the effects of the predictor and mediator on the outcome `y ~ x + m`. We need to show that the mediator affects the outcome variable. \n```{r}\nmod3 <- lm(intention ~ religiosity + hlc, data = vax)\nsummary(mod3)$coefficients\n```\n\nStep 4. If Steps 1-3 all show effects of `y~x`, `m~x` and `y~m|x`^[read `y~m|x` as `y~m` controlling for `x`] respectively, then we can assess mediation. We need to look at the effect of the predictor on the outcome after controlling for the mediator. This is from the same third model above. If the effect of the predictor is now zero, then we have complete mediation. If it is non-zero, then we have _partial_ mediation. \n\n::: {.callout-caution collapse=\"true\"}\n#### Optional - packages for estimating mediation effects\n\nThe __mediation__ package is a very nice approach that allows us to conduct mediation this way, and it also extends to allow us to have categorical variables (we can use a logistic regression as one of our models), or to have multilevel data (our models can be fitted using __lme4__).  \n\n```{r}\nlibrary(mediation)\nmymediation <- mediate(model.m = mod2, \n                       model.y = mod3, \n                       treat='religiosity', \n                       mediator='hlc',\n                       boot=TRUE, sims=500)\n\nsummary(mymediation)\n```\n\n- ACME: Average Causal Mediation Effects (the indirect path $\\mathbf{a \\times b}$ in @fig-medpaths).  \n- ADE: Average Direct Effects (the direct path $\\mathbf{c'}$ in @fig-medpaths).  \n- Total Effect: sum of the mediation (indirect) effect and the direct effect (this is $\\mathbf{(a \\times b) + c)}$ in @fig-medpaths).  \n\n```{r}\n#| echo: false\n#| label: fig-medpaths\n#| fig-cap: \"Mediation Model. The indirect effect is the product of paths a and b. c' is the direct effect of x on y.\"\nknitr::include_graphics(\"images/path/MED2.png\")\n```\n\n:::\n\n\n:::\n\n\n<div class=\"tocify-extend-page\" data-unique=\"tocify-extend-page\" style=\"height: 0;\"></div>","srcMarkdownNoYaml":"\n\n\n```{r}\n#| label: setup\n#| include: false\nsource('assets/setup.R')\nlibrary(tidyverse)\nlibrary(patchwork)\nlibrary(effects)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(xaringanExtra)\nxaringanExtra::use_panelset()\nlibrary(lavaan)\nlibrary(semPlot)\n# knitr::opts_chunk$set(cache = TRUE)\noptions(digits=3, scipen = 3)\nqcounter <- function(){\n  if(!exists(\"qcounter_i\")){\n    qcounter_i <<- 1\n  }else{\n    qcounter_i <<- qcounter_i + 1\n  }\n  qcounter_i\n}\n```\n\n:::lo\n**Relevant packages**\n\n+ lavaan  \n+ semPlot or tidySEM\n+ mediation\n\n::: \n\n\n::: {.callout-note collapse=\"true\"}\n## What is 'mediation'?   \n\nLet's imagine we are interested in peoples' intention to get vaccinated, and we observe the following variables: \n\n- Intention to vaccinate (scored on a range of 0-100) \n- Health Locus of Control (HLC) score (average score on a set of items relating to perceived control over ones own health)  \n- Religiosity of upbringing (average score on a set of items relating to the religiosity of an individual's childhood). \n\n<!-- We are assuming here that we do not have the individual items, but only the scale scores (if we had the individual items we might be inclined to model religiosity and HLC as latent variables!).    -->\nIf we draw out our variables, and think about this in the form of a standard regression model with \"Intention to vaccinate\" as our outcome variable, then all the lines are filled in for us (see @fig-mregpath). \n\n```{r}\n#| label: fig-mregpath\n#| echo: false\n#| fig-cap: \"Multiple regression as a path model\"\nknitr::include_graphics(\"images/path/path1.png\")\n```\n\nBut what if our theory suggests that some other model might be of more relevance? For instance, what if we believe that participants' religiosity has an effect on their Health Locus of Control score, __*which in turn*__ affects the intention to vaccinate (see @fig-medpath1)?   \n\n```{r}\n#| label: fig-medpath1\n#| echo: false\n#| fig-cap: \"Mediation as a path model (If you're interested, you can find the inspiration for this example data from the paper [here](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7596314/). I haven't properly read it though!)\"\n#| out-height: \"300px\"\nknitr::include_graphics(\"images/path/path2.png\")\n```\n\nIn this case, the HLC variable is thought of as a **mediator**, because it mediates the effect of religiosity on intention to vaccinate. In this theoretical model, we distinguishing between two possible types of effect: **direct** and **indirect**. \n\n:::statbox\n**Direct vs Indirect**  \n\nIn path diagrams:\n\n- Direct effect = one single-headed arrow between the two variables concerned  \n- Indirect effect = An effect transmitted via some other variables   \n\n:::\n\n:::\n\nWe've seen how path analysis works in last week's lab, and we can use that same logic to investigate models which have quite different structures such as those including mediating variables. \n\nBecause we have multiple **endogenous** variables here, then we're immediately drawn to path analysis, because we're in essence thinking of conducting several regression models. As we can't fit our theoretical model into a nice straightforward regression model (we would need several), then we can use path analysis instead, and just smush lots of regressions together, allowing us to estimate things all at once.  \n\n::: {.callout-note collapse=\"true\"}\n## Doing Path Mediation 1: Data\n\nWe'll continue with the example in @fig-medpath1, for which we have simulated some data.  \n\n:::frame\n__Data: VaxDat.csv__\n\n100 parents were recruited and completed a survey that included measures of Health Locus of Control, Religiosity, and a sliding scale of 0 to 100 on how definite they were that their child would receive the vaccination for measles, mumps & rubella.  \n\n- Intention to vaccinate (scored on a range of 0-100)  \n- Health Locus of Control (HLC) score (average on a set of 5 items - each scoring 0 to 6 - relating to perceived control over ones own health)  \n- Religiosity of upbringing (average score on a set of items relating to the religiosity of an individual's childhood). \n\nThe data is available at https://uoepsy.github.io/data/vaxdat.csv  \n\n:::\n\nFirst we read in our data:  \n```{r}\nvax <- read_csv(\"https://uoepsy.github.io/data/vaxdat.csv\")\nsummary(vax)\n```\n\nIt looks like we have a value we shouldn't have there. We have a value of religiosity of -1. But the average of 5 items which each score 0 to 6 will have to fall within those bounds.  \n  \nLet's replace any values <0 with NA. \n```{r}\nvax <- \n    vax %>% \n    mutate(religiosity = ifelse(religiosity < 0, NA, religiosity))\nsummary(vax)\n```\nNow let's just check the marginal distributions of each variable.  \nThere are lots of functions that we might use, but for a quick eyeball, I quite like the `pairs.panels()` and `multi.hist()` functions from the __psych__ package. \n```{r}\nlibrary(psych)\npairs.panels(vax)\n```\n\n:::\n\n::: {.callout-note collapse=\"true\"}\n## Doing Path Mediation 1: Model Specification\n\nOkay, we're ready to start thinking about our model.  \nFirst we specify the relevant paths:\n```{r}\nmed_model <- \" \n    intention ~ religiosity\n    intention ~ hlc\n    hlc ~ religiosity\n\"\n```\n\nIf we fit this model as it is, we won't actually be testing the indirect effect, we will simply be fitting a couple of regressions.  \n\nTo specifically test the indirect effect, we need to explicitly **define** the indirect effect in our model, by first creating a label for each of its sub-component paths, and then defining the indirect effect itself as the product of these two paths (why the product? [Click here for a lovely explanation from Aja Murray](https://uoepsy.github.io/msmr/indirect_effects.pdf)).  \n  \nTo do this, we use a new operator, `:=`. \n\n```{r}\nmed_model <- \" \n    intention ~ religiosity\n    intention ~ a*hlc\n    hlc ~ b*religiosity\n    \n    indirect:=a*b\n\"\n```\n\n\n:::rtip\n**:=** \n\n_This operator 'defines' new parameters which take on values that are an arbitrary function of the original model parameters. The function, however, must be specified in terms of the parameter labels that are explicitly mentioned in the model syntax._\n  \n([the lavaan project](https://lavaan.ugent.be/))\n\nNote. The labels we use are completely up to us. This would be equivalent:\n```{r}\n#| eval: false\nmed_model <- \" \n    intention ~ religiosity\n    intention ~ peppapig * hlc\n    hlc ~ kermit * religiosity\n    \n    indirect:= kermit * peppapig\n\"\n```\n\n:::\n\n:::\n\n::: {.callout-note collapse=\"true\"}\n## Doing Path Mediation 1: Model Estimation\n\nIt is common to estimate the indirect effect using a bootstrapping approach (remember, bootstrapping involves resampling the data with replacement, thousands of times, in order to empirically generate a sampling distribution).  \n\n:::statbox\n__Why do we bootstrap mediation analysis?__\n\nWe compute our indirect effect as the _product_ of the sub-component paths. However, this results in the estimated indirect effect rarely following a normal distribution, and makes our usual analytically derived standard errors & p-values inappropriate.   \nInstead, bootstrapping has become the norm for assessing sampling distributions of indirect effects in mediation models. \n\n::: \n\nWe can do this easily in lavaan:\n\n```{r}\nmm1.est <- sem(med_model, data=vax, se = \"bootstrap\") \nsummary(mm1.est, ci = TRUE)\n```\n\n:::int\nWe can see that the 95% bootstrapped confidence interval for the indirect effect of religiosity on intention to vaccinate does not include zero. We can conclude that the indirect effect is significant at $p <.05$. The direct effect is __not__ significantly different from zero, suggesting that we have __complete mediation__ (religiosity has _no_ effect on intention to vaccinate after controlling for health locus of control). \n:::\n\nFinally, we can visualise the estimates for our model using the `semPaths()` function from the __semPlot__ package, and also with the `graph_sem()` function from the __tidySEM__ package.  \n_Often, if we want to include a path diagram in a report then the output of these functions would not usually meet publication standards, and instead we tend to draw them in programs like powerpoint!)_\n```{r}\nlibrary(tidySEM)\ngraph_sem(mm1.est, layout = get_layout(mm1.est))\n```\n\n:::\n\n\n::: {.callout-note collapse=\"true\"}\n## Partial/Complete Mediation\n\nIf we have a variable $X$ that we take to cause variable $Y$, then our path diagram will look like so:\n```{r}\n#| echo: false\nknitr::include_graphics(\"images/path/MED1.png\")\n```\nIn this diagram, path $c$ is the __total effect__. This is the _unmediated_ effect of $X$ on $Y$.  \nHowever, while the effect of $X$ on $Y$ could in part be explained by the process of being mediated by some variable $M$, the variable $X$ could still affect $Y$ directly.  \nOur mediating model is shown below:\n\n```{r}\n#| echo: false\nknitr::include_graphics(\"images/path/MED2.png\")\n```\n\nIn this case, path $c'$ is the __direct effect__.  \n\n- __Complete mediation__ is when $X$ _no longer_ affects $Y$ after $M$ has been controlled (so path $c'$ is not significantly different from zero). \n- __Partial mediation__ is when the path from $X$ to $Y$ is _reduced in magnitude_ when the mediator $M$ is introduced, _but still different from zero._  \n- The __Proportion Mediated__ is the amount of the total effect of $X$ to $Y$ that goes via $M$. i.e. $\\frac{a \\times b}{c}$ in the images above. \n\n:::\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n\n# Exercises: Conduct Problems\n\nThis week's exercises focus on the technique of path analysis using data on conduct problems in adolescence. \n\n:::frame\n__Data: conduct problems__  \n\nA researcher has collected data on n=557 adolescents and would like to know whether there are associations between conduct problems (both aggressive and non-aggressive) and academic performance and whether the relations are mediated by the quality of relationships with teachers. \n\n```{r}\n#| echo: false\ntibble(\n    variable = read_csv(\"https://uoepsy.github.io/data/cp_teachacad.csv\") %>% names,\n    description = c(\"Participant ID\",\"Academic performance (standardised)\",\"Teacher Relationship Quality (standardised)\",\"Non-aggressive conduct problems (standardised)\",\"Aggressive conduct problems (standardised)\")\n) %>% knitr::kable(.)\n```\n\n\nThe data is available at https://uoepsy.github.io/data/cprobteach.csv     \n:::\n\n\n`r qbegin(qcounter())`\nFirst, read in the dataset from https://uoepsy.github.io/data/cprobteach.csv     \n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n```{r}\n#| message: false\ncp_teach <- read_csv(\"https://uoepsy.github.io/data/cprobteach.csv\")\n\nsummary(cp_teach)\n```\n`r solend()`\n\n`r qbegin(qcounter())`\nJust to initially get a sense of the total effects of different types of conduct problem on academic performance, we'll fit a simple regression model.  \n\nUse the `sem()` function in lavaan to specify and estimate a straightforward linear regression model to test whether aggressive and non-aggressive conduct problems significantly predict academic performance.  \n\nHow do your results compare to those you obtain using the `lm()` function?\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n``` {r simple regression in lavaan}\n# we can fit the model in lavaan as follows:\n# first we specify the model using lavaan syntax\nsr_lavaan<-'Acad~Non_agg+Agg'\n# next we can estimate the model using the sem() function\nsr_lavaan.est<-sem(sr_lavaan, data=cp_teach)\n# we can inspect the results using the summary() function\nsummary(sr_lavaan.est)\n\n# the same model can be fit using lm():\n\nsr_lm<-lm(Acad~Non_agg+Agg, data=cp_teach)\nsummary(sr_lm)\n```\n\nWe can see that both non-aggressive and aggressive conduct problems significantly predict academic perfofmance. Having more aggressive or non-aggressive conduct problems is associated with poorer academic performance.   \n\nWe can also see that we get the same results when we use the `sem()` function as we do when we use the `lm()` function. Lavaan will give essentially the same results as `lm()` for simple  and multiple regression problems. However, if we have multiple outcome variables in our model it is advantageous to do this using path mediation model with lavaan. This allows us to include all the regressions in a single model. \n`r solend()`\n\n`r qbegin(qcounter())`\nForget about aggressive conduct problems for the time-being.  \n\nSpecify a model in which non-aggressive conduct problems have both:  \n\n- a direct on academic performance\n- an indirect effect via teacher relationships on academic performance  \n\n\n`r qend()` \n\n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n```{r path analysis for non-aggressive conduct problems}\nmodel1<-'\n    #we regress academic performance on non-aggressive conduct problems (the direct effect)\n    Acad~Non_agg\n    \n    #we regress academic peformance on teacher relationship quality\n    Acad~Teach_r\n    \n    #we regress teacher relationship quality on non-aggressive conduct problems\n    Teach_r~Non_agg \n'\n```\n`r solend()`\n\n`r qbegin(qcounter())`\nMake sure in your model you _define_ (using the `:=` operator) the indirect effect in order to test the hypothesis that non-aggressive conduct problems have both a direct and an indirect effect (via teacher relationships) on academic performance. \n\nFit the model and examine the 95% CI.\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r path analysis for non-aggressive conduct problems with constraints}\n\n#model specification\nmodel1<-'\n    Acad~Non_agg\n    \n    #we label the two parameters that comprise the indirect effect b and c\n    Acad~b*Teach_r    \n    \n    Teach_r~c*Non_agg  \n    \n    # the indirect effect is the product of b and c. We create a new parameter (ind) to estimate the indirect effect\n    ind:=b*c   \n'\n\n#model estimation\nmodel1.est<-sem(model1, data=cp_teach, se='bootstrap') \n\n# we request bootstrapped standard errors to assess the signifance of the indirect effect\nsummary(model1.est, ci=T)\n```\n\nWe can see that the 95% bootstrapped confidence interval for the indirect effect of non-aggressive conduct problems on academic performance ('ind') does not include zero. We can conclude that the indirect effect is significant at $p <.05$. The direct effect is also statistically significant at $p < .05$.  \n\n\n`r solend()`\n\n`r qbegin(qcounter())`\nSpecify a new parameter which is the total (direct+indirect) effect of non-aggressive conduct problems on academic performance.  \n\nHint: we should have already got labels in our model for the constituent effects, so we can just use `:=` to create a sum of them. \n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\nWe can create a new parameter that is the sum of the direct and indirect effect to evaluate the total effect of non-aggressive conduct problems on academic performance.\n\n```{r path analyis total}\n\n#model specification\n\nmodel1<-'\n    # we now also label the indirect effect of non-aggressive conduct problems on academic performance\n    Acad~a*Non_agg    \n    Acad~b*Teach_r    \n    Teach_r~c*Non_agg  \n    \n    ind:=b*c   \n    #the total effect is the indirect effect plus the direct effect\n    total:=b*c+a\n'\n\n#model estimation\nmodel1.est<-sem(model1, data=cp_teach,se='bootstrap') \n\n# we request bootstrapped standard errors to assess the signifance of the indirect effect\nsummary(model1.est, ci=T)\n```\n\nNow that we have the total effect too, we can start to build up a picture of what is happening.  \n\n- Non-aggressive conduct problems are associated with poorer academic performance (total effect)  \n- This is partially mediated by teacher relationships (children with more conduct problems tend to have worse teacher relationships, and quality of teacher relationships influences academic performance).   \n  - 61% ($\\frac{\\text{indirect}}{\\text{total}}$) of the effect of non-aggressive conduct problems on academic performance is mediated by the quality of teacher relationships.  \n  \n- Non-aggressive conduct problems continue to have a direct effect on academic performance (direct effect) \n\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n\n# Exercises: More Conduct Problems\n\n`r qbegin(qcounter())`\nNow specify a model in which __both__ aggressive and non-aggressive conduct problems have both direct and indirect effects (via teacher relationships) on academic performance. Include the parameters for the indirect effects.  \n\n\n::: {.callout-tip collapse=\"true\"}\n#### Hints\n\nWe've got __two__ predictors, and __one__ mediator.  \nSo two indirect effects. make sure to give unique labels to the paths!  \n\n:::\n\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\nWe now have two predictors, one mediator and one outcome (and two indirect effects, one for each predictor). We can represent this in two lines: one where we specify academic performance as the outcome variable and one where we specify teacher relationships (the mediator) as the outcome variable. \n\n```{r two predictors}\nmodel2<-\n   'Acad ~ a1*Agg + a2*Non_agg + b*Teach_r\n    Teach_r ~ c1*Agg + c2*Non_agg\n   \n    ind1:=b*c1 #indirect effect for aggressive conduct problems\n    ind2:=b*c2 #indirect effect for non-aggressive conduct problems\n    \n    tot1:=(b*c1)+a1 # total effect aggressive\n    tot2:=(b*c2)+a2 # total effect non-aggressive\n'\n```\n\n\n`r solend()`\n\n`r qbegin(qcounter())`\nNow estimate the model and test the significance of the indirect effects\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r estimate two predictor model}\nmodel2.est<-sem(model2,  data=cp_teach,se='bootstrap') \nsummary(model2.est, ci=T)\n```\n\nWe can see that the 95% confidence intervals for both indirect effects do not include zero, therefore, we can conclude that they are significant at $p < .05$. \n`r solend()`\n\n\n`r qbegin(qcounter())`\nOpen powerpoint, or google drawings, or microsoft paint (!), and create a diagram of your estimated model. \n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n```{r}\n#| label: fig-pathcp1\n#| echo: false\n#| out-width: \"1200px\"\n#| fig-cap: \"Effect of conduct problems on academic performance mediated by quality of teacher relationship.\"\nknitr::include_graphics(\"images/path/pathanaly1.png\")\n```\n\n`r solend()`\n\n\n`r qbegin(qcounter())`\nWrite a brief paragraph reporting on the results of the model estimates in Question B2. Include a figure or table to display the parameter estimates.\n`r qend()` \n`r solbegin(show=params$SHOW_SOLS, toggle=params$TOGGLE)`\n\n:::int \n\nA path mediation model was used to test the direct and indirect effects (via teacher relationship quality) of aggressive and non-aggressive conduct problems on academic performance. In the model, academic performance was regressed on teacher relationship quality, non-aggressive conduct problems and aggressive conduct problems while teacher relationship quality (the mediator) was regressed on aggressive and non-aggressive conduct problems. The indirect effects were tested using the product of the coefficient for the regression of outcome on mediator and the coefficient for the regression of mediator on predictor. The statistical significance of the indirect effects were evaluated using boostrapped 95% confidence intervals with 1000 draws.\n\nUnstandardised parameter estimates are provided in @fig-pathcp. Solid lines indicate that a parameter is significant at $p <. 05$, while dashed lines represent non-significant paths.The indirect effects of both non-aggressive  ($b = -0.09$, 95% CI=[-0.14, -0.05]) and aggressive ($b = -0.15$, 95% CI=[-0.21, -.08]) conduct problems on academic performance were statistically significant. \n\n```{r}\n#| label: fig-pathcp\n#| echo: false\n#| out-width: \"1200px\"\n#| fig-cap: \"Effect of conduct problems on academic performance mediated by quality of teacher relationship.\"\nknitr::include_graphics(\"images/path/pathanaly1.png\")\n```\n:::\n\n`r solend()`\n\n<div class=\"divider div-transparent div-dot\"></div>\n\n\n::: {.callout-note collapse=\"true\"}\n## Mediation using separate models\n\nFollowing [Baron & Kenny 1986](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.917.2326&rep=rep1&type=pdf), we can conduct mediation analysis by using three separate regression models.  \n\n1. $y \\sim x$\n2. $m \\sim x$\n3. $y \\sim x + m$\n\nStep 1. Assess the total effect of the predictor on the outcome `y ~ x`. This step establishes that there *is* an effect that may be mediated.    \n```{r}\nmod1 <- lm(intention ~ religiosity, data = vax)\nsummary(mod1)$coefficients\n```\n\nStep 2. Estimate the effect of the predictor on the mediator `m ~ x`:\n```{r}\nmod2 <- lm(hlc ~ religiosity, data = vax)\nsummary(mod2)$coefficients\n```\n\nStep 3. Estimate the effects of the predictor and mediator on the outcome `y ~ x + m`. We need to show that the mediator affects the outcome variable. \n```{r}\nmod3 <- lm(intention ~ religiosity + hlc, data = vax)\nsummary(mod3)$coefficients\n```\n\nStep 4. If Steps 1-3 all show effects of `y~x`, `m~x` and `y~m|x`^[read `y~m|x` as `y~m` controlling for `x`] respectively, then we can assess mediation. We need to look at the effect of the predictor on the outcome after controlling for the mediator. This is from the same third model above. If the effect of the predictor is now zero, then we have complete mediation. If it is non-zero, then we have _partial_ mediation. \n\n::: {.callout-caution collapse=\"true\"}\n#### Optional - packages for estimating mediation effects\n\nThe __mediation__ package is a very nice approach that allows us to conduct mediation this way, and it also extends to allow us to have categorical variables (we can use a logistic regression as one of our models), or to have multilevel data (our models can be fitted using __lme4__).  \n\n```{r}\nlibrary(mediation)\nmymediation <- mediate(model.m = mod2, \n                       model.y = mod3, \n                       treat='religiosity', \n                       mediator='hlc',\n                       boot=TRUE, sims=500)\n\nsummary(mymediation)\n```\n\n- ACME: Average Causal Mediation Effects (the indirect path $\\mathbf{a \\times b}$ in @fig-medpaths).  \n- ADE: Average Direct Effects (the direct path $\\mathbf{c'}$ in @fig-medpaths).  \n- Total Effect: sum of the mediation (indirect) effect and the direct effect (this is $\\mathbf{(a \\times b) + c)}$ in @fig-medpaths).  \n\n```{r}\n#| echo: false\n#| label: fig-medpaths\n#| fig-cap: \"Mediation Model. The indirect effect is the product of paths a and b. c' is the direct effect of x on y.\"\nknitr::include_graphics(\"images/path/MED2.png\")\n```\n\n:::\n\n\n:::\n\n\n<div class=\"tocify-extend-page\" data-unique=\"tocify-extend-page\" style=\"height: 0;\"></div>"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"include-in-header":["assets/toggling.html"],"number-sections":false,"output-file":"08_path2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.340","toc_float":true,"theme":["united","assets/style-labs.scss"],"link-citations":true,"code-copy":false,"title":"8. Mediation","params":{"SHOW_SOLS":true,"TOGGLE":true},"editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}