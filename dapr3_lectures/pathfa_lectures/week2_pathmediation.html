<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>WEEK 2 Path Mediation</title>
    <meta charset="utf-8" />
    <meta name="author" content="dapR3 Team" />
    <link href="jk_libs/libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="jk_libs/libs/tile-view/tile-view.js"></script>
    <link href="jk_libs/libs/animate.css/animate.xaringan.css" rel="stylesheet" />
    <link href="jk_libs/libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <link href="jk_libs/libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="jk_libs/libs/clipboard/clipboard.min.js"></script>
    <link href="jk_libs/libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="jk_libs/libs/shareon/shareon.min.js"></script>
    <link href="jk_libs/libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="jk_libs/libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="jk_libs/tweaks.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# <b>WEEK 2<br>Path Mediation</b>
## Data Analysis for Psychology in R 3
### dapR3 Team
### Department of Psychology<br/>The University of Edinburgh

---






---
# Learning Objectives
1. Understand the purpose of mediation models and the conceptual challenges
2. Be able to describe direct, indirect and total effects in a mediation model.
3. Estimate and interpret a mediation model using `lavaan`

---
class: inverse, center, middle

&lt;h2&gt;Part 1: Introduction to mediation&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 2: Direct, indirect and total effects&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 3: Estimating mediation in `lavaan`&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 4: Reporting&lt;/h2&gt;

---
# Mediation

- Is when a predictor X, has an effect on an outcome Y, via a mediating variable M

- The mediator **transmits** the effect of X  to Y 

- Examples of mediation hypotheses:
    - Conscientiousness (X) affects health (Y) via health behaviours (M)
    - Conduct problems (X) increase the risk of depression (Y) via peer problems (M)
    - Attitudes to smoking (X) predict intentions to smoke (M) which in turn predicts smoking behaviour (Y) 
    - An intervention (X) to reduce youth crime (Y) works by increasing youth self-contol (M)
    
---
# Visualising a mediation model

.pull-left[
- In a SEM diagram we can represent mediation as:
]

.pull-right[
&lt;img src="Mediation diagram basic.png" width="17777" /&gt;
]

---
# Mediation...not to be confused with moderation
- Mediation is commonly confused with **moderation** 

- Moderation is when a moderator z modifies the effect of X on Y
  - e.g., the effect of X on Y is stronger at higher levels of Z
  - Also known as an **interaction** between X and Z

- Examples of moderation could be:
    - An intervention (X) works better to reduce bullying (Y) at older ages (Z) of school pupil
    - The relation between stress (X) and depression (Y) is lower for those scoring higher on spirituality (Z) 

---
class: inverse, center, middle, animated, rotateInDownLeft

# End of Part 1

---
class: inverse, center, middle

&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 1: Introduction to mediation&lt;/h2&gt;
&lt;h2&gt;Part 2: Direct, indirect and total effects&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 3: Estimating mediation in `lavaan`&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 4: Reporting&lt;/h2&gt;  

---
# Direct and indirect effects in mediation
- We seldom hypothesise that a mediator completely explains the relation between X and Y

- More commonly, we expect both **indirect effects** and **direct effects** of X on Y
  - The indirect effects of X on Y are those transmitted via the mediator
  - The direct effect of X on Y is the remaining effect of X on Y


---
# Visualing direct and indirect effects in mediation

&lt;img src="Mediation diagram basic indirect.png" width="1707" /&gt;

---
# Testing mediation

.pull-left[
- Traditionally, mediation was tested using a series of separate linear models:
  1. Y~X  
  2. Y~X+M  
  3. M~X

- May see this referred to as th Baron and Kenny approach.

]

.pull-right[
&lt;img src="trad med.png" width="1707" /&gt;

]


---    
# Traditional methods of testing mediation

.pull-left[
- The three regression models:
  1. Y~X  
  2. Y~X+M  
  3. M~X
    
]

.pull-right[
- Model 1 estimates the overall effect of X on Y
- Model 2 estimates the partial effects of X and M on Y
- Model 3 estimates the effect of X on M

- If the following conditions were met, mediation was assumed to hold:
  - The effect of X on Y (eq.1) is significant
  - The effect of X on M (eq.3) is significant
  - The effect of X on Y becomes reduced when M is added into the model (eq.2)
]

---    
# Limitations of traditional methods of testing mediation
- Low power

- Very cumbersome for multiple mediators, predictors, or outcomes

- You don't get an estimate of the magnitude of the indirect effect

- Much better way: **path mediation model**

---
# BREAK QUIZ
- Quiz question:
    - Which of these hypotheses is a mediation hypothesis?
      - 1) Vocabulary development in childhood follows a non-linear trajecrtory
      - 2) The effects of conscientiousness on academic achievement are stronger at low levels of cognitive ability
      - 3) Poverty affects child behaviour problems through increasing parental stress
      - 4) Earlier pubertal onset increases the risk of antisocial behaviour only in girls and not boys
      
---
class: inverse, center, middle, animated, rotateInDownLeft

# End of Part 2

---
class: inverse, center, middle

&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 1: Introduction to mediation&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 2: Direct, indirect and total effects&lt;/h2&gt;
&lt;h2&gt;Part 3: Estimating mediation in `lavaan`&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 4: Reporting&lt;/h2&gt;

---
# WELCOME BACK

- Welcome back!
- The answer to the quiz question is...
   - Which of these hypotheses is a mediation hypothesis?
      - 1) Vocabulary development in childhood follows a non-linear trajecrtory
      - 2) The effects of conscientiousness on academic achievement are stronger at low levels of cognitive ability
      - 3) **Poverty affects child behaviour problems through increasing parental stress**
      - 4) Earlier pubertal onset increases the risk of antisocial behaviour only in girls and not boys


---
# Testing a path mediation model in lavaan

- Specification
  - Create a lavaan syntax object

- Estimation
  - Estimate the model using e.g., maximum likelihood estimation

- Evaluation/interpretation
  - Inspect the model to judge how good it is
  - Interpret the parameter estimates


---    
# Example

.pull-left[
- Does peer rejection mediate the association between aggression and depression?


]

.pull-right[

&lt;img src="Mediation diagram example.png" width="17777" /&gt;

]


---
# The data



--- 
# Mediation example

.pull-left[
- Does peer rejection mediate the association between aggression and depression?
]

.pull-right[


```r
model1&lt;-'Dep ~ PR      # Depression predicted by peer rejection
         Dep ~ Agg     # Depression predicted by aggression (the direct effect)
         PR ~ Agg      # Peer rejection predicted by aggression
'     
```

]

---
# Estimate the model 


```r
model1.est&lt;-sem(model1, data=agg.data2)
```

---
# The model output

```r
summary(model1.est, fit.measures=T)
```

```
## lavaan 0.6-9 ended normally after 12 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           500
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Model Test Baseline Model:
## 
##   Test statistic                               261.670
##   Degrees of freedom                                 3
##   P-value                                        0.000
## 
## User Model versus Baseline Model:
## 
##   Comparative Fit Index (CFI)                    1.000
##   Tucker-Lewis Index (TLI)                       1.000
## 
## Loglikelihood and Information Criteria:
## 
##   Loglikelihood user model (H0)              -1321.211
##   Loglikelihood unrestricted model (H1)      -1321.211
##                                                       
##   Akaike (AIC)                                2652.423
##   Bayesian (BIC)                              2673.496
##   Sample-size adjusted Bayesian (BIC)         2657.626
## 
## Root Mean Square Error of Approximation:
## 
##   RMSEA                                          0.000
##   90 Percent confidence interval - lower         0.000
##   90 Percent confidence interval - upper         0.000
##   P-value RMSEA &lt;= 0.05                             NA
## 
## Standardized Root Mean Square Residual:
## 
##   SRMR                                           0.000
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Dep ~                                               
##     PR                0.319    0.047    6.838    0.000
##     Agg               0.220    0.047    4.682    0.000
##   PR ~                                                
##     Agg               0.503    0.039   12.867    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Dep               0.858    0.054   15.811    0.000
##    .PR                0.788    0.050   15.811    0.000
```

---
# Things to note from the model output

- All three regressions paths are statistically significant

- The model is **just-identified**
  - The degrees of freedom are equal to 0
  - The model fit cannot be tested
  - The model fit statistics (TLI, CFI, RMSEA, SRMR) all suggest perfect fit but this is meaningless

---
# Visualising the model using `semPaths()`

.pull-left[
- We can use semPaths() from the semPlot package to help us visualise the model
    - Shows the parameter estimates within an SEM diagram
]

.pull-right[

```r
library(semPlot)
semPaths(model1.est, what='est')
```

![](week2_pathmediation_files/figure-html/visualise model output-1.png)&lt;!-- --&gt;
]

---
# Calculating the indirect effects 

.pull-left[
- To calculate the indirect effect of X on Y in path mediation, we need to create some new parameters

- The indirect effect of X on Y via M is:
  - `\(a*b\)`
  - `\(a\)` = the regression coefficient for M~X
  - `\(b\)` = the regression coefficient for Y~M
]

.pull-right[
&lt;img src="Mediation diagram example a b.png" width="17777" /&gt;

]

---
# Calculating indirect effects in lavaan

.pull-left[
- To calculate the indirect effect of X on Y in lavaan we:

  - Use parameter labels 'a' and 'b' to label the relevant paths
      - a is for the effect of X on M
      - b is for the effect of M on Y

  - Use the ':=' operator to create a new parameter 'ind'
      - 'ind' represents our indirect effect
]

.pull-right[

```r
  model1&lt;-'Dep~b*PR     # Add b label here     
           Dep~Agg     
           PR~a*Agg     # Add a label here    
           
ind:=a*b                # create a new parameter ind which is the product of a and b'    
```
]

---
# Indirect effects in the output


```r
model1.est&lt;-sem(model1, data=agg.data2)
summary(model1.est)
```

```
## lavaan 0.6-9 ended normally after 12 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           500
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Dep ~                                               
##     PR         (b)    0.319    0.047    6.838    0.000
##     Agg               0.220    0.047    4.682    0.000
##   PR ~                                                
##     Agg        (a)    0.503    0.039   12.867    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Dep               0.858    0.054   15.811    0.000
##    .PR                0.788    0.050   15.811    0.000
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     ind               0.160    0.027    6.038    0.000
```

---
# Statistical significance of the indirect effects
- Default method of assessing the statistical significance of indirect effects assume normal sampling distribution

- May not hold for indirect effects which are the product of regression coefficients

- Instead we can use **bootstrapping**
  - Allows 95% confidence intervals (CIs) to be computed
  - If 95% CI includes 0, the indirect effect is not significant at alpha=.05
    
---
# Bootstapped CIs for indirect effect in lavaan


```r
  model1&lt;-'Dep~b*PR          
           Dep~Agg     
           PR~a*Agg      
ind:=a*b'    

model1.est&lt;-sem(model1, data=agg.data2, se='bootstrap') #we add the argument se='bootstrap'
```

---
# Output for bootstrapped CIs for an indirect effect in lavaan


```r
summary(model1.est, ci=T) # we add the argument ci=T to see the confidence intervals in the output
```

```
## lavaan 0.6-9 ended normally after 12 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           500
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                            Bootstrap
##   Number of requested bootstrap draws             1000
##   Number of successful bootstrap draws            1000
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##   Dep ~                                                                 
##     PR         (b)    0.319    0.047    6.747    0.000    0.222    0.407
##     Agg               0.220    0.044    4.974    0.000    0.136    0.310
##   PR ~                                                                  
##     Agg        (a)    0.503    0.037   13.736    0.000    0.436    0.581
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##    .Dep               0.858    0.050   17.124    0.000    0.760    0.954
##    .PR                0.788    0.057   13.829    0.000    0.676    0.902
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##     ind               0.160    0.024    6.644    0.000    0.113    0.207
```

---
# Total effects in path mediation

- As well as the direct and indirect effect, it is often of interest to know the **total** effect of X on Y

`$$Total = Indirect + Direct$$`

---
# Total effects in path mediation

`$$Total = a*b + c$$`

&lt;img src="Mediation diagram example a b c.png" width="17777" /&gt;

---
# Total effect in lavaan


```r
  model1&lt;-'Dep~b*PR          
           Dep~c*Agg         # we add the label c for our direct effect    
           PR~a*Agg      
ind:=a*b
total:=a*b+c                 # we add a new parameter for the total effect'    

model1.est&lt;-sem(model1, data=agg.data2, se='bootstrap') #we add the argument se='bootstrap'
```

---
# Total effect in lavaan output


```r
summary(model1.est, ci=T)
```

```
## lavaan 0.6-9 ended normally after 12 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           500
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                            Bootstrap
##   Number of requested bootstrap draws             1000
##   Number of successful bootstrap draws            1000
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##   Dep ~                                                                 
##     PR         (b)    0.319    0.050    6.403    0.000    0.224    0.420
##     Agg        (c)    0.220    0.046    4.815    0.000    0.129    0.309
##   PR ~                                                                  
##     Agg        (a)    0.503    0.037   13.755    0.000    0.432    0.579
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##    .Dep               0.858    0.054   15.786    0.000    0.748    0.964
##    .PR                0.788    0.055   14.276    0.000    0.683    0.899
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##     ind               0.160    0.025    6.338    0.000    0.113    0.212
##     total             0.381    0.041    9.383    0.000    0.305    0.464
```

---
# Why code the total effect in lavaan?

- We could have just added up the coefficients for the direct and indirect effects

- By coding it in lavaan, however, we can assess the statistical significance of the total effect

- Useful because sometimes the direct and indirect effects are not individually significant but the total effect is
  - May be especially relevant in cases where there are many mediators of small effect

---
# Interpreting the total, direct, and indirect effect coefficients
- The total effect can be interpreted as the **unit increase in Y expected to occur when X increases by one unit**

- The indirect effect can be interpreted as the **unit increase in Y expected to occur via M when X increases by one unit**

- The direct effect can be interpreted as the **unit increase in Y expected to occur with a unit increase in X over and above the increase transmitted by M**

- **Note**: 'direct' effect may not actually be direct - it may be acting via other mediators not included in our model

---
# Standardised parameters
- As with CFA models, standardised parameters can be obtained using:


```r
summary(model1.est, ci=T, standardized=T)
```

```
## lavaan 0.6-9 ended normally after 12 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         5
##                                                       
##   Number of observations                           500
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                            Bootstrap
##   Number of requested bootstrap draws             1000
##   Number of successful bootstrap draws            1000
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##   Dep ~                                                                 
##     PR         (b)    0.319    0.050    6.403    0.000    0.224    0.420
##     Agg        (c)    0.220    0.046    4.815    0.000    0.129    0.309
##   PR ~                                                                  
##     Agg        (a)    0.503    0.037   13.755    0.000    0.432    0.579
##    Std.lv  Std.all
##                   
##     0.319    0.313
##     0.220    0.215
##                   
##     0.503    0.499
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##    .Dep               0.858    0.054   15.786    0.000    0.748    0.964
##    .PR                0.788    0.055   14.276    0.000    0.683    0.899
##    Std.lv  Std.all
##     0.858    0.789
##     0.788    0.751
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##     ind               0.160    0.025    6.338    0.000    0.113    0.212
##     total             0.381    0.041    9.383    0.000    0.305    0.464
##    Std.lv  Std.all
##     0.160    0.156
##     0.381    0.371
```

---
# BREAK QUIZ

- Time for a pause
- Quiz question
    - If the effect of X on M is b=.30 and the effect of M on Y is b=.10, what is the indirect effect of X on Y?
      - 1) b=.40
      - 2) b=.03
      - 3) b=.30
      - 4) b=.10
      

---
class: inverse, center, middle, animated, rotateInDownLeft

# End of Part 3

---
class: inverse, center, middle

&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 1: Introduction to mediation&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 2: Direct, indirect and total effects&lt;/h2&gt;
&lt;h2 style="text-align: left;opacity:0.3;"&gt;Part 3: Estimating mediation in `lavaan`&lt;/h2&gt;
&lt;h2&gt;Part 4: Reporting&lt;/h2&gt;

---    
# Welcome back

- Welcome back!
- The answer to the quiz question is...
- Quiz question
    - If the effect of X on M is b=.30 and the effect of M on Y is b=.10, what is the indirect effect of X on Y?
      - 1) b=.40
      - 2) **b=.03**
      - 3) b=.30
      - 4) b=.10

---
# Reporting path mediation models 

- Methods/ Analysis Strategy
  - The model being tested
  - e.g. 'Y was regressed on both X and M and M was regressed on X'
  - The estimator used (e.g., maximum likelihood estimation)
  - The method used to test the significance of indirect effects ('bootstrapped 95% confidence intervals')

- Results
  - Model fit (for over-identified models)
  - The parameter estimates for the path mediation  and their statistical significance
  - Can be useful to present these in a SEM diagram
  - The diagrams from R not considered 'publication quality' draw in powerpoint or similar

---
# Reporting path mediation models - example of SEM diagram with results

.pull-left[
- Include the key parameter estimates

- Indicate statistically significant paths (e.g. with an '*')

- Include a figure note that explains how statistically significant paths (and at what level) are signified 

]

.pull-right[

&lt;img src="med reporting.png" width="1707" /&gt;

]

---
# Reporting path mediation models - the indirect effects

- Results
 - The coefficient for the indirect effect and the bootstrapped 95% confidence intervals
 - Common to also report **proportion mediation**:
  
`$$\frac{indirect}{total}$$` 
  
- However, important to be aware of limitations:
  - Big proportion mediation possible when total effect is small - makes effect seem more impressive
  - Small proportion mediation even when total effect is big - can underplay importance of effect
  - Should be interpreted in context of total effect

- Tricky interpretation if there are a mix of negative and positive effects involved


---
# Extensions of path mediation models
- We can extend our path mediation model in various ways:
  - Several mediators in sequence or parallel
  - Multiple outcomes
  - Multiple predictors
  - Multiple groups (e.g., comparing direct and indirect effects across males and females)
  - Add covariates to adjust for potential confounders

---   
# Example: multiple mediation model

.pull-left[

```r
model2&lt;-'Dep~b2*Aca  
         Aca~a2*Agg
         
         Dep~b1*PR
         PR~a1*Agg
         
         Dep~c*Agg  # direct effect

ind1:=a1*b1
ind2:=a2*b2
total=a1*b1+a2*b2+c'
```
]

.pull-right[

&lt;img src="Mediation diagram example multiple mediation.png" width="17777" /&gt;

]

---
## Other path analysis models
- Path mediation models are a common application of path models
  - But they are just one example

- Anything that can be expressed in terms of regressions between observed variables can be tested as a path model
  - Can include ordinal or binary variables
  - Can include moderation

- Other common path analysis models include:
    - Autoregressive models for longitudinal data
    - Cross-lagged panel models for longitudinal data

---
# Making model modifications
- You **may** want to make some modifications to your initially hypothesised model 
  - non-significant paths that you want to trim
  - include some additional paths not initially included

- Remember that this now moves us into exploratory territory where:
  - Model modifications should be substantively as well as statistically justifiable
  - You must be aware of the possibility that you are capitalising on chance
  - You should aim to replicate the modifications in independent data

---
# Cautions regarding path analysis models
- **Assumption** that the paths represent causal effects is only an assumption
  - Especially if using cross-sectional data
  - Mediation models should ideally be estimated on longitudinal data.
    - X time 1
    - M time 2
    - Y time 3

- The parameters are only accurate if the model is correctly specified

---
# Cautions regarding path analysis models - indistinguishable models

&lt;img src="med versus confounding.png" width="17777" /&gt;

---
# Measurement error in path analysis
- Path analysis models use observed variables
  - Assumes no measurement error in these variables

- Path coefficients likely to be attenuated due to unmodelled measurement error

- Structural equation models solve this issue
  - They are path analysis models where the paths are between latent rather than observed variables
  - ...very brief comment on this in the final week

---
# Path analysis summary
- Path analysis can be used to fit sets of regression models
  - Common path analysis model is the path mediation model
  - But very flexible huge range of models that can be tested

- In R, path analysis can be done using the `sem()` function in `lavaan`

- Need to be aware that we aren't *testing* causality but assuming it

---
class: extra, inverse, center, middle, animated, rotateInDownLeft

# End
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="jk_libs/macros.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
